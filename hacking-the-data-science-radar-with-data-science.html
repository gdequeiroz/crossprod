<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Duncan Garmonsway" />
        <meta name="copyright" content="Duncan Garmonsway" />

        <meta name="description" content="Get a perfect score in the Mango Solution Data Science Radar
" />
        <meta name="twitter:creator" content="@nacnudus">
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="R, JavaScript, V8, Miscellaneous, " />

<meta property="og:title" content="Hacking the Data Science Radar with Data Science "/>
<meta property="og:url" content="http://nacnudus.github.io/crossprod/hacking-the-data-science-radar-with-data-science" />
<meta property="og:description" content="Get a perfect score in the Mango Solution Data Science Radar" />
<meta property="og:site_name" content="Crossprod" />
<meta property="og:article:author" content="Duncan Garmonsway" />
<meta property="og:article:published_time" content="2016-06-28T00:00:00+12:00" />
<meta name="twitter:title" content="Hacking the Data Science Radar with Data Science ">
<meta name="twitter:description" content="Get a perfect score in the Mango Solution Data Science Radar">
<meta property="og:image" content="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon-152x152.png" />
<meta name="twitter:image" content="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon-152x152.png" >

        <title>Hacking the Data Science Radar with Data Science  · Crossprod
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="http://nacnudus.github.io/crossprod/theme/css/style.min.css?2f9bb2f8">
        <link rel="shortcut icon" href="http://nacnudus.github.io/crossprod/theme/images/favicon.ico" type="image/x-icon" type="image/png" />
        <link rel="icon" href="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" href="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon.png"  type="image/png" />
        <link rel="apple-touch-icon" sizes="57x57" href="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon-57x57.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="72x72" href="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon-72x72.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="76x76" href="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon-76x76.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="114x114" href="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon-114x114.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="120x120" href="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon-120x120.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="144x144" href="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon-144x144.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="http://nacnudus.github.io/crossprod/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link href="http://nacnudus.github.io/crossprod/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Crossprod - Full Atom Feed" />
        <link href="http://nacnudus.github.io/crossprod/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Crossprod - Full RSS Feed" />
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-45097885-3', 'auto');
    ga('send', 'pageview');
</script>
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://nacnudus.github.io/crossprod/"><span class=site-name>Crossprod</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://nacnudus.github.io/crossprod">Home</a></li>
                            <li ><a href="http://nacnudus.github.io/crossprod/categories.html">Categories</a></li>
                            <li ><a href="http://nacnudus.github.io/crossprod/tags.html">Tags</a></li>
                            <li ><a href="http://nacnudus.github.io/crossprod/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://nacnudus.github.io/crossprod/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://nacnudus.github.io/crossprod/hacking-the-data-science-radar-with-data-science"> Hacking the Data Science Radar with Data&nbsp;Science  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <p>This post reverse-engineers the Mango Solutions <a href="https://www.mango-solutions.com/radar/">Data Science
Radar</a>&nbsp;using</p>
<ul>
<li>Programming&nbsp;(R)</li>
<li>Visualisation&nbsp;(ggplot2) </li>
<li>Data wrangling&nbsp;(dpylr/tidyr/etc.)</li>
<li>Modelling&nbsp;(lm)</li>
<li>Technology (embedded V8&nbsp;javascript)</li>
<li>Communication&nbsp;(blog)</li>
</ul>
<p>Why hack?  Because getting at the innards also&nbsp;reveals</p>
<ul>
<li>What a good score is in each&nbsp;category</li>
<li>Which statements are most&nbsp;important</li>
<li>Whether scores are comparable across&nbsp;people</li>
<li>Whether you should strongly agree with the statement &#8220;On average, I spend at
  least 25% of my time manipulating data into analysis-ready&nbsp;formats&#8221;</li>
</ul>
<h2 id="the-radar">The&nbsp;radar</h2>
<p>Based on Likert-style responses to 24 provocative statements, the Data
Science Radar visualises your skills along six axes, the &#8220;core attributes of a
contemporary &#8216;Data Scientist&#8217;.&#8221; It looks like&nbsp;this.</p>
<p><img alt="Mango Solutions Data Science Radar" src="figure/radar.png" /></p>
<h2 id="first-attempt-multivariate-multiple-regression">First attempt: Multivariate multiple&nbsp;regression</h2>
<p>How can we score better?  Hacking the url would be
<a href="https://www.mango-solutions.com/radar/?fs=true&amp;r=7.0,7.0,7.0,7.0,7.0,7.0">cheating</a>,
so instead, let&#8217;s use science: hypothesise -&gt; test -&gt; improve.  Here are some
initial&nbsp;guesses.</p>
<ul>
<li>Each of the 24 statements relates to exactly one attribute, i.e. four
  statements per&nbsp;attribute.</li>
<li>The Likert values (strongly agree, agree, somewhat agree, etc.) are coded from
  1 to 7 (since there are seven points on each&nbsp;axis).</li>
<li>There is a linear relationship between the coded agreement with the
  statements, and the&nbsp;attributes.</li>
</ul>
<p>So something&nbsp;like
</p>
<div class="math">$$\text{score}_{\text{attribute}} = \frac{1}{4} \sum_{i = 1}^{4} \text{answer}_i$$</div>
<p>
where <span class="math">\(\text{answer}_i = 1, 2, \cdots, 7\)</span> by encoding &#8220;Strongly disagree&#8221; as
1, up to &#8220;Strongly agree&#8221; as 7, including only four relevant answers per
attribute.  The best-possible set of answers would score 7 on every axis, and
the worst set would score&nbsp;1.</p>
<p>If the hypotheses are correct, then all we need to do to prove them is to record
24 sets of random answers, the resulting scores, and fit a multivariate
linear model.  We&#8217;d expect each score (outcome variable) to have four non-zero
coefficients (out of the 24 input variables).  Let&#8217;s try&nbsp;it.</p>
<div class="highlight"><pre><span class="c1"># The first two aren&#39;t random, but they&#39;re still linearly independent of the</span>
<span class="c1"># others, which is what matters.</span>
random_data <span class="o">&lt;-</span> read_csv<span class="p">(</span><span class="s">&quot;./data/radar-random.csv&quot;</span><span class="p">)</span>
lm1 <span class="o">&lt;-</span> lm<span class="p">(</span><span class="kp">cbind</span><span class="p">(</span>Communicator<span class="p">,</span> <span class="sb">`Data Wrangler`</span><span class="p">,</span> Modeller<span class="p">,</span> 
                Programmer<span class="p">,</span> Technologist<span class="p">,</span> Visualiser<span class="p">)</span> <span class="o">~</span> <span class="m">.</span><span class="p">,</span> data <span class="o">=</span> random_data<span class="p">)</span>
lm1
</pre></div>


<div class="highlight"><pre>## 
## Call:
## lm(formula = cbind(Communicator, `Data Wrangler`, Modeller, Programmer, 
##     Technologist, Visualiser) ~ ., data = random_data)
## 
## Coefficients:
##              Communicator  Data Wrangler  Modeller    Programmer  Technologist  Visualiser
## (Intercept)   2.060e+00     2.422e+00      3.247e+00   6.658e-01  -1.331e+00     1.456e+00
## q01           1.997e-01    -2.507e-02      2.602e-01  -1.103e-01  -5.866e-02    -7.103e-02
## q02          -2.571e-01     2.729e-02     -4.514e-01   2.090e-01   1.554e-01     1.281e-01
## q03           3.087e-01     1.744e-02     -3.471e-01  -1.303e-03   5.611e-02     1.978e-01
## q04           4.356e-01     8.534e-04     -8.676e-03  -2.346e-02  -7.130e-02    -4.193e-02
## q05          -2.524e-01     2.267e-01      8.732e-01  -1.559e-01  -1.907e-01    -3.885e-01
## q06          -1.948e-01     1.545e-01      7.016e-01  -7.626e-02  -1.271e-01    -3.897e-01
## q07          -7.925e-03     2.075e-01      4.423e-01  -1.089e-01  -2.015e-01    -2.247e-01
## q08           8.902e-02    -4.810e-01     -1.246e-02   8.111e-02  -5.556e-02    -4.572e-02
## q09           1.901e-01     5.174e-02     -5.260e-01  -9.428e-02   5.506e-02     2.620e-01
## q10           9.750e-02    -1.248e-02     -2.365e-01   3.181e-02   1.557e-01     3.267e-01
## q11          -2.099e-01    -5.220e-02      2.943e-01   2.032e-01   6.801e-02    -1.775e-01
## q12          -1.000e-01     1.813e-15      7.000e-01  -1.333e-01   9.653e-16    -1.000e-01
## q13           5.164e-02     2.647e-02     -3.386e-01   2.881e-01  -4.010e-03     1.428e-01
## q14           1.211e-01    -8.162e-02     -3.835e-02  -2.508e-01  -4.963e-02     7.972e-02
## q15           4.971e-03     5.740e-02     -2.581e-01   3.729e-01   7.939e-02     1.018e-01
## q16           2.450e-01    -6.448e-02      6.447e-02   1.757e-01  -2.060e-01     7.158e-03
## q17          -2.310e-01     8.405e-02     -3.947e-02   1.424e-01   3.434e-01    -8.871e-02
## q18           4.003e-02    -4.045e-02      2.264e-02  -9.453e-02   2.958e-01    -2.477e-02
## q19           5.952e-02     5.815e-02     -6.029e-01   6.573e-02   5.393e-01     2.828e-01
## q20          -8.766e-02     2.262e-01     -6.807e-01   1.403e-01   5.257e-01     3.440e-01
## q21           1.903e-01    -3.190e-02     -6.312e-01   1.331e-01   5.689e-02     4.847e-01
## q22          -1.334e-01     5.980e-02      1.251e-01   8.396e-02   7.175e-02    -4.788e-01
## q23          -5.700e-02    -1.563e-01      5.947e-01  -1.535e-01  -1.894e-01    -6.388e-02
## q24          -1.419e-01     4.202e-02      2.188e-01   2.128e-02  -4.087e-02     2.361e-01
</pre></div>


<p>Hopeless!  At least one of the assumptions must be wrong, but which one?  This
time, let&#8217;s use our brains instead of stats, and do a&nbsp;visualisation.  </p>
<h2 id="visualisation-brain-not-brawn">Visualisation: Brain not&nbsp;brawn</h2>
<p>Since patterns are hard to find among random responses, I answered 24 more
surveys systematically, answering &#8220;Strongly disagree&#8221; to one statement, and
&#8220;Strongly agree&#8221; to all the others, until all 24 statements had been strongly
disagreed with. One time, I answered one with &#8220;Strongly agree&#8221; to every
statement, plotting the resulting scores at 0 on the&nbsp;x-axis.</p>
<p><img src="http://nacnudus.github.io/crossprod/figure/radar-systematic-1.svg" title="plot of chunk radar-systematic" alt="plot of chunk radar-systematic" width="960px" height="540px" /></p>
<p>Let&#8217;s break this&nbsp;down.</p>
<ul>
<li>The maximum score appears to be 7, which &#8216;Technologist&#8217; got most of the time.
  If you&#8217;re a technologist, you should agree with&nbsp;everything.</li>
<li>Disagreement with any of the statements drastically affects the score of
  exactly one attribute, with minor effects on some/all of the&nbsp;others.</li>
<li>Sometimes disagreement affects attributes for the better (e.g. 2 improves
  &#8216;Communicator&#8217;).  Sometimes it&#8217;s really damaging (e.g. 17&#8212;20 ruins&nbsp;&#8216;Technologist&#8217;).</li>
<li>There are no ties between attributes.  This is a massive&nbsp;clue.</li>
</ul>
<p>It&#8217;s now easy from this graph to work out the perfect survey responses.  For
example, we could max-out &#8216;Communicator&#8217; by agreeing with statements 1, 3, and
4, but disagreeing with statement 2 &#8212; which caused a peak in the previous&nbsp;graph.</p>
<p><img src="http://nacnudus.github.io/crossprod/figure/radar-perfect-1.svg" title="plot of chunk radar-perfect" alt="plot of chunk radar-perfect" width="960px" height="540px" /></p>
<p>This is much&nbsp;clearer.</p>
<ul>
<li>Each attribute relates to four&nbsp;statements.</li>
<li>Not only that, but related statements are grouped together (okay, that&#8217;s
  guessable from just doing the&nbsp;survey).</li>
<li>Not every statement is equally weighted (the trough depths vary within&nbsp;groups).</li>
<li>Even the statement weighting system varies between questions (the range of
  trough depths varies between&nbsp;groups).</li>
</ul>
<h2 id="penalties">Penalties</h2>
<p>Crucially, it&#8217;s now obvious from the parallel movements between 0 and 1, 4 and
5, and 8 and 9, that attributes are penalized by their rank.  When statement 1
is strongly disagreed with, &#8216;Communicator&#8217; has the bottom score, and the others
are spread between 7 and five.  But when statement 1 is strongly agreed with
(position 0 on the x-axis), &#8216;Communicator&#8217; takes the lead with a score of 7, and
the scores of all the others are bumped down a step.  This strongly suggests
that the scores are penalised by some function of the&nbsp;rank.</p>
<p>Think of it this way: if they&#8217;re all equal-first-place, then rank them
arbitrarily (zero-based rank, 0 to 5), and then penalise them by, say,
subtracting their rank from their score.  So say &#8216;Communicator&#8217; is arbitrarily
ranked zero-th among equals (i.e. first place), then &#8216;Communicator&#8217; still scores
7, But &#8216;Modeller&#8217;, ranked 1 (second place), loses 1 point, and &#8216;Programmer&#8217;,
ranked 2 (third place) loses 2 points.  This penalisation process guarantees
against any ties, but it also obfuscates any straightforward relationship
between survey response and pre-penalty&nbsp;scores.</p>
<p>Here&#8217;s the penalty function in action.  I answered every statement &#8216;correctly&#8217;,
except for statement 1, which I answered at every level from &#8220;Strongly disagree&#8221;
to &#8220;Strongly agree&#8221;.  Note the change of axis&nbsp;variables.</p>
<p><img src="http://nacnudus.github.io/crossprod/figure/radar-diff-1.svg" title="plot of chunk radar-diff" alt="plot of chunk radar-diff" width="960px" height="540px" /></p>
<p>As my answers go from &#8220;Strongly disagree&#8221; up to &#8220;Agree&#8221; (0 to 6 on the x-axis),
the score of &#8216;Communicator&#8217; gradually increases, as we&#8217;d expect.  But in the
final step, &#8220;Strongly agree&#8221;, there&#8217;s a jump.  That&#8217;s because &#8216;Communicator&#8217; is
now ranked (abitrarily) in first place, so no penalty is applied, and it gets
the full 7 points.  At the same time, the other attributes are bumped&nbsp;down.</p>
<h2 id="hunt-the-function">Hunt the&nbsp;function</h2>
<p>We need to remove these penalties before we can investigate the
statement/response weightings, but we don&#8217;t yet know what exactly the penalty
function is, besides being some function of the rank.  Using the perfect
answers, though (at 6 on the x-axis above), we can get clues to narrow down the
options.  Since we know that the original pre-penalty score of every attribute
ought to have been 7, then by subtracting their final scores from 7, we reveal
the size of the&nbsp;penalty.</p>
<div class="highlight"><pre><span class="kp">sort</span><span class="p">(</span><span class="m">7</span> <span class="o">-</span> <span class="kp">unlist</span><span class="p">(</span>perfect_data<span class="p">[</span><span class="m">1</span><span class="p">,</span> <span class="m">-1</span><span class="o">:</span><span class="m">-24</span><span class="p">]))</span>       <span class="c1"># absolute penalty</span>
</pre></div>


<div class="highlight"><pre>##  Communicator      Modeller    Programmer  Technologist    Visualiser Data Wrangler 
##           0.0           0.4           0.7           1.0           1.4           1.8
</pre></div>


<p>So penalties can be as large as 1.8.  That would be a problem for poor-ranking
pre-penalty scores below 1.8, which would be pushed below zero.  To guarantee
positive final scores, the penalty function must scale with the pre-penalty
score, i.e. the pre-penalty score must be a coefficient in the function.  That
restricts us to a couple of basic designs for each attribute&#8217;s&nbsp;score.</p>
<p>Either:</p>
<div class="math">$$\text{final score} = \text{pre-penalty} - (\text{pre-penalty} \times \text{factor} \times \text{rank})$$</div>
<p>
where <span class="math">\(0 \leq \text{factor} &lt; 1/5\)</span> (for&nbsp;positivity).</p>
<p>Or:</p>
<div class="math">$$\text{final score} = \text{factor} \times \frac{\text{pre-penalty}}{\text{rank}}$$</div>
<p>
where <span class="math">\(0 \leq \text{factor} &lt; 1\)</span> (to ensure a penalty when <span class="math">\(\text{rank} = 1\)</span>).</p>
<p>There is a telling difference between these functions.  The first is a straight
line, essentially <span class="math">\(y = mx + c\)</span>, so that, given equal pre-penalty scores, the
differences between final scores are equal.  The second is a curve, essentially
<span class="math">\(y = m/x\)</span>, so that, even given equal pre-penalty scores, the gap between
poorly-ranked scores is wider than between the top&nbsp;scores.</p>
<p>Since we have a handy set of equal pre-penalty scores, we can eliminate one of
the functions by seeing whether the difference in penalties between ranks is, in
fact,&nbsp;constant.</p>
<div class="highlight"><pre><span class="kp">diff</span><span class="p">(</span><span class="kp">sort</span><span class="p">(</span><span class="m">7</span> <span class="o">-</span> <span class="kp">unlist</span><span class="p">(</span>perfect_data<span class="p">[</span><span class="m">1</span><span class="p">,</span> <span class="m">-1</span><span class="o">:</span><span class="m">-24</span><span class="p">])))</span> <span class="c1"># difference in penalties between ranks</span>
</pre></div>


<div class="highlight"><pre>##      Modeller    Programmer  Technologist    Visualiser Data Wrangler 
##           0.4           0.3           0.3           0.4           0.4
</pre></div>


<p>It&#8217;s constant enough for me, so I choose the first&nbsp;model.</p>
<p>We can also check that penalties do, indeed, scale with the pre-penalty scores,
by producing a set of <a href="https://www.mango-solutions.com/radar/?fs=true&amp;r=1.0,0.9,0.9,0.8,0.8,0.7">worst-possible
answers</a>.
Pay attention: these are the scores to&nbsp;beat.</p>
<div class="highlight"><pre>## Source: local data frame [6 x 2]
## 
##       attribute score
##           &lt;chr&gt; &lt;dbl&gt;
## 1  Communicator   1.0
## 2      Modeller   0.9
## 3    Programmer   0.9
## 4  Technologist   0.8
## 5    Visualiser   0.8
## 6 Data Wrangler   0.7
</pre></div>


<p><img alt="Mango Solutions Data Science Radar: worst score" src="figure/radar-worst.png" /></p>
<p>Not only does this prove the scaling of penalties by pre-penalty score, but it
also justifies the coding of &#8216;agreement&#8217; between 1 and 7, rather than, say, 0
and 6, since we now have a clear minimum pre-penalty score of 1, as well as a
maximum of 7 from the set of perfect&nbsp;answers.</p>
<p>If you look carefully, this set of worst-possible scores also hints at the value
of the penalty factor.  Since the pre-penalty score is 1, and the difference
between penalties is constant by design, and the difference between <em>these</em>
penalties alternates between 0.1 and 0.0, I <em>strongly</em> suspect a factor of 0.5
and a rounding system that alternates between odds and&nbsp;evens.</p>
<h2 id="modelling-success">Modelling&nbsp;success</h2>
<p>But we can nail this down with a linear model, using the two sets of data where
we already know the pre-penalty scores, i.e. the best- and worst-possible
scores, as well as the ranks, so we can estimate the penalty&nbsp;factor.  </p>
<p>A reminder of the&nbsp;model:</p>
<div class="math">$$\text{final score} = \text{pre-penalty} - (\text{pre-penalty} \times \text{factor} \times \text{rank})$$</div>
<p>
where <span class="math">\(0 \leq \text{factor} &lt; 1/5\)</span> (for&nbsp;positivity).</p>
<div class="highlight"><pre>worst<span class="o">$</span>rank <span class="o">&lt;-</span> <span class="m">0</span><span class="o">:</span><span class="m">5</span>
worst<span class="o">$</span>prepenalty <span class="o">&lt;-</span> <span class="m">1</span>
best <span class="o">&lt;-</span> 
  frame_data<span class="p">(</span><span class="o">~</span>attribute<span class="p">,</span>     <span class="o">~</span><span class="kp">rank</span><span class="p">,</span> <span class="o">~</span>score<span class="p">,</span>
             <span class="s">&quot;Communicator&quot;</span><span class="p">,</span>     <span class="m">0</span><span class="p">,</span>    <span class="m">7.0</span><span class="p">,</span>
             <span class="s">&quot;Modeller&quot;</span><span class="p">,</span>         <span class="m">1</span><span class="p">,</span>    <span class="m">6.6</span><span class="p">,</span>
             <span class="s">&quot;Programmer&quot;</span><span class="p">,</span>       <span class="m">2</span><span class="p">,</span>    <span class="m">6.3</span><span class="p">,</span>
             <span class="s">&quot;Technologist&quot;</span><span class="p">,</span>     <span class="m">3</span><span class="p">,</span>    <span class="m">6.0</span><span class="p">,</span>
             <span class="s">&quot;Visualiser&quot;</span><span class="p">,</span>       <span class="m">4</span><span class="p">,</span>    <span class="m">5.6</span><span class="p">,</span>
             <span class="s">&quot;Data Wrangler&quot;</span><span class="p">,</span>    <span class="m">5</span><span class="p">,</span>    <span class="m">5.2</span><span class="p">)</span>
best<span class="o">$</span>prepenalty <span class="o">&lt;-</span> <span class="m">7</span>

lm<span class="p">(</span>score <span class="o">~</span> prepenalty <span class="o">+</span> prepenalty<span class="o">:</span><span class="kp">rank</span><span class="p">,</span> data <span class="o">=</span> <span class="kp">rbind</span><span class="p">(</span>best<span class="p">,</span> worst<span class="p">))</span>
</pre></div>


<div class="highlight"><pre>## 
## Call:
## lm(formula = score ~ prepenalty + prepenalty:rank, data = rbind(best, 
##     worst))
## 
## Coefficients:
##     (Intercept)       prepenalty  prepenalty:rank  
##        -0.02778          1.00349         -0.05029
</pre></div>


<p>That&#8217;ll do!  The coefficient on the pre-penalty score is 1, as in our
model, and the coefficient on the pre-penalty&#8212;rank interaction is -0.05, a nice
round number such as a model-builder might choose (and the right&nbsp;sign).</p>
<h2 id="weighting-game">Weighting&nbsp;game</h2>
<p>We&#8217;re on the home straight.  Now that we understand the penalty system, we can
go beneath its obfuscations and sort out the statement weights.  Here, I invert
the penalty function, and apply it to an earlier set of answers that you&#8217;ll
recognise in the&nbsp;graph.</p>
<div class="math">$$\text{pre-penalty} = \frac{\text{final score}}{1 - (\text{factor} \times \text{rank})}$$</div>
<div class="highlight"><pre><span class="err">##</span> <span class="nb">Error</span> <span class="k">in</span> <span class="nx">select</span><span class="p">(.,</span> <span class="o">-</span><span class="p">(</span><span class="nx">starts_with</span><span class="p">(</span><span class="s2">&quot;q&quot;</span><span class="p">)))</span><span class="o">:</span> <span class="nx">attempt</span> <span class="nx">to</span> <span class="nx">apply</span> <span class="nx">non</span><span class="o">-</span><span class="kd">function</span>
</pre></div>


<div class="highlight"><pre>## Error in eval(expr, envir, enclos): object &#39;systematic_prepenalty&#39; not found
</pre></div>


<p>It does the soul good to see the pre-penalty attribute scores restored (bar&nbsp;rounding).</p>
<p>The weight of each statement equals the amount of damage that it can do to the
relevant attribute&#8217;s score, divided by the total damage done by the other
relevant&nbsp;statements.</p>
<div class="highlight"><pre>## Error in eval(expr, envir, enclos): object &#39;systematic_prepenalty&#39; not found
</pre></div>


<p>Being nice fractions, the three systems make perfect sense (allowing yet again for minor
rounding): <span class="math">\((\frac{1}{5}\)</span>, <span class="math">\(\frac{1}{5}\)</span>, <span class="math">\(\frac{1}{5}\)</span>, <span class="math">\(\frac{2}{5})\)</span>, <span class="math">\((\frac{7}{30}\)</span>, <span class="math">\(\frac{7}{30}\)</span>, <span class="math">\(\frac{7}{30}\)</span>, <span class="math">\(\frac{9}{30})\)</span>, and <span class="math">\((\frac{2}{10}\)</span>, <span class="math">\(\frac{2}{10}\)</span>, <span class="math">\(\frac{3}{10}\)</span>, <span class="math">\(\frac{3}{10})\)</span>.</p>
<p>And don&#8217;t forget to re-write the model to account for the&nbsp;weights.</p>
<div class="math">$$\text{score}_{\text{attribute}} = \sum_{i = 1}^{4} \text{answer}_i \times
\text{weight}_i$$</div>
<p> where <span class="math">\(\text{weight}_i\)</span> is taken from&nbsp;above.</p>
<h2 id="implementation-and-simulation">Implementation and&nbsp;simulation</h2>
<p>At last, we can implement the whole thing in R, run it on thousands of random
answer-sets, and explore the distributions.  Well, almost &#8212; it turns out that R
and JavaScript handle rounding and floating-point arithmetic differently, so I
had to use the <a href="https://github.com/jeroenooms/V8">V8</a> package to implement the
rounding steps in JavaScript, as the website does.  I give more details in a
<a href="http://nacnudus.github.io/crossprod/r-rounding-is-weird-try-javascript">previous post</a>.  At least I got to display some
&#8216;Technologist&#8217;&nbsp;skills.</p>
<div class="highlight"><pre>ct <span class="o">&lt;-</span> V8<span class="o">::</span>v8<span class="p">()</span>
roundjs <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">,</span> digits<span class="p">)</span> <span class="p">{</span>
  <span class="kp">sapply</span><span class="p">(</span>x<span class="p">,</span> <span class="kr">function</span><span class="p">(</span>y<span class="p">)</span> <span class="p">{</span>ct<span class="o">$</span><span class="kp">get</span><span class="p">(</span><span class="kp">paste0</span><span class="p">(</span><span class="s">&quot;Number((&quot;</span><span class="p">,</span> <span class="kp">sprintf</span><span class="p">(</span><span class="s">&quot;%.16f&quot;</span><span class="p">,</span> y<span class="p">),</span> <span class="s">&quot;).toFixed(&quot;</span><span class="p">,</span> digits<span class="p">,</span> <span class="s">&quot;))&quot;</span><span class="p">))})</span>
<span class="p">}</span>
</pre></div>


<p>The effect of the penalty can be prettily illustrated by a scatterplot of the
scores of two attributes.  Ties are separated, parting the cloud, slightly above
the line <span class="math">\(y = x\)</span>.</p>
<div class="highlight"><pre><span class="err">##</span> <span class="nb">Error</span> <span class="k">in</span> <span class="nx">select</span><span class="p">(.,</span> <span class="nx">set</span><span class="p">,</span> <span class="nx">attribute</span><span class="p">,</span> <span class="nx">score</span><span class="p">)</span><span class="o">:</span> <span class="nx">attempt</span> <span class="nx">to</span> <span class="nx">apply</span> <span class="nx">non</span><span class="o">-</span><span class="kd">function</span>
</pre></div>


<p>We can also de-penalise the scores to see the effect of the penalty on the
distribution.  Pre-penalty scores are distributed as you&#8217;d expect, despite
slightly uneven weights.  Post-penalty scores are skewed to the right, but not
so much that you&#8217;d notice in casual&nbsp;use.</p>
<p><img src="http://nacnudus.github.io/crossprod/figure/radar-penalty-skew-1.svg" title="plot of chunk radar-penalty-skew" alt="plot of chunk radar-penalty-skew" width="960px" height="540px" /></p>
<p>The magnitude of the penalty depends on the magnitude of the pre-penalty score
as well as its rank, introducing a tricky extra dimension to any visualisation.
Hexagonal bins work well, coloured according to frequency.  Penalties tend to be
largest for middling scores, where the rank tends to be poor enough to multiply
the penalty factor by a few times, but the magnitude of the score isn&#8217;t small
enough to scale the penalty&nbsp;down.</p>
<p><img src="http://nacnudus.github.io/crossprod/figure/radar-penalty-magnitude-1.svg" title="plot of chunk radar-penalty-magnitude" alt="plot of chunk radar-penalty-magnitude" width="960px" height="540px" /></p>
<h2 id="the-whole-point">The whole&nbsp;point</h2>
<p>It turns out that interpreting individual radars should be done more thoughtfully
than one might have expected,&nbsp;because</p>
<ul>
<li>5.2 = 7.0 for data-wrangling unicorns with perfect&nbsp;answers.</li>
<li>Scores aren&#8217;t directly comparable between people, unless they&#8217;re at the
  extremes where the penalties exaggerate&nbsp;less.</li>
<li>The correct answer to the statement &#8220;On average, I spend at least 25% of my
  time manipulating data into analysis-ready formats&#8221;, if you want a high &#8216;Data
  Wrangler&#8217; score, is <em>Strongly disagree</em>.</li>
</ul>
<p>And the <a href="https://www.mango-solutions.com/radar/?fs=true&amp;r=7.0,6.6,6.3,6.0,5.6,5.2">perfect score</a>?</p>
<div class="highlight"><pre>## Source: local data frame [6 x 2]
## 
##       attribute score
##           &lt;chr&gt; &lt;dbl&gt;
## 1  Communicator   7.0
## 2      Modeller   6.6
## 3    Programmer   6.3
## 4  Technologist   6.0
## 5    Visualiser   5.6
## 6 Data Wrangler   5.2
</pre></div>


<p><img alt="Mango Solutions Data Science Radar: perfect score" src="figure/radar-perfect.png" /></p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
            <section>
    <p id="post-share-links">
    Like this post? Share on:
    <a href="http://twitter.com/home?status=Hacking%20the%20Data%20Science%20Radar%20with%20Data%C2%A0Science%20http%3A//nacnudus.github.io/crossprod/hacking-the-data-science-radar-with-data-science" target="_blank" title="Share on Twitter">Twitter</a>
    ❄
    <a href="http://www.facebook.com/sharer/sharer.php?u=http%3A//nacnudus.github.io/crossprod/hacking-the-data-science-radar-with-data-science" target="_blank" title="Share on Facebook">Facebook</a>
    ❄
    <a href="https://plus.google.com/share?url=http%3A//nacnudus.github.io/crossprod/hacking-the-data-science-radar-with-data-science" target="_blank" title="Share on Google Plus">Google+</a>
    ❄
    <a href="mailto:?subject=Hacking%20the%20Data%20Science%20Radar%20with%20Data%C2%A0Science&amp;body=http%3A//nacnudus.github.io/crossprod/hacking-the-data-science-radar-with-data-science" target="_blank" title="Share via Email">Email</a>
    </p>
</section>

            <section>
<p id="comment-message">Please comment below </p>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                    data-disqus-identifier="brexit"
                href="http://nacnudus.github.io/crossprod/hacking-the-data-science-radar-with-data-science#disqus_thread">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'crossprod';
        var disqus_identifier = 'brexit';
    var disqus_url = 'http://nacnudus.github.io/crossprod/hacking-the-data-science-radar-with-data-science';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>
            </div>
        </div>
    </div>
</div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="http://nacnudus.github.io/crossprod/creating-nests-without-tidyr" title="Previous: Creating nests without tidyr">Creating nests without tidyr</a></li>
                <li class="next-article"><a href="http://nacnudus.github.io/crossprod/harry-potter-and-the-n-grams-of-sentiment" title="Next: Harry Potter and the N-Grams of Sentiment">Harry Potter and the N-Grams of Sentiment</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2016-06-28T00:00:00+12:00">Jun 28, 2016</time>
            <h4>Category</h4>
            <a class="category-link" href="http://nacnudus.github.io/crossprod/categories.html#miscellaneous-ref">Miscellaneous</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://nacnudus.github.io/crossprod/tags.html#javascript-ref">JavaScript
                    <span>2</span>
</a></li>
                <li><a href="http://nacnudus.github.io/crossprod/tags.html#r-ref">R
                    <span>10</span>
</a></li>
                <li><a href="http://nacnudus.github.io/crossprod/tags.html#v8-ref">V8
                    <span>2</span>
</a></li>
            </ul>
<h4>Social</h4>
    <a href="https://github.com/nacnudus" title="My Github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="https://twitter.com/nacnudus" title="My Twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="https://nz.linkedin.com/in/duncangarmonsway" title="My LinkedIn Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-linkedin sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-subtitle"><span class="site-name">Crossprod</span> - R, data, and frustration</li>
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

            <script type="text/javascript">
var disqus_shortname = 'crossprod';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
<script  language="javascript" type="text/javascript">
function uncollapse() {
    if (window.location.hash.match(/^#comment-\d+$/)) {
        $('#disqus_thread').collapse('show');
    }
}
</script>
<script type="text/javascript" language="JavaScript">
uncollapse();
window.onhashchange=function(){
    if (window.location.hash.match(/^#comment-\d+$/))
        window.location.reload(true);
}
</script>
<script>
$('#disqus_thread').on('shown', function () {
    var link = document.getElementsByClassName('accordion-toggle');
    var old_innerHTML = link[0].innerHTML;
    $(link[0]).fadeOut(500, function() {
        $(this).text('Click here to hide comments').fadeIn(500);
    });
    $('#disqus_thread').on('hidden', function () {
        $(link[0]).fadeOut(500, function() {
            $(this).text(old_innerHTML).fadeIn(500);
        });
    })
})
</script>


    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>